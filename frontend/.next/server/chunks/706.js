exports.id=706,exports.ids=[706],exports.modules={979:()=>{},1108:(a,b,c)=>{"use strict";c.a(a,async(a,d)=>{try{c.d(b,{M:()=>i});var e=c(9198),f=c(5445),g=c(9193),h=a([e,f,g]);[e,f,g]=h.then?(await h)():h;let i=(0,e.configureStore)({reducer:{auth:f.Ay,postReducer:g.Ay}});d()}catch(a){d(a)}})},1960:(a,b,c)=>{"use strict";c.d(b,{$:()=>f,C:()=>e});let{default:d}=c(8938),e="http://localhost:9090",f=d.create({baseURL:e});console.log(f.defaults.baseURL)},2091:(a,b,c)=>{"use strict";c.a(a,async(a,d)=>{try{c.d(b,{CF:()=>k,DY:()=>i,Kt:()=>o,Lx:()=>h,Oe:()=>m,Wm:()=>l,Zt:()=>j,hf:()=>n});var e=c(1960),f=c(9198),g=a([f]);f=(g.then?(await g)():g)[0];let h=(0,f.createAsyncThunk)("user/login",async(a,b)=>{try{let{token:c}=(await e.$.post("/users/login",{email:a.email,password:a.password})).data;if(!c)return b.rejectWithValue("Token not provided");return localStorage.setItem("token",c),c}catch(a){return b.rejectWithValue(a.response?.data?.message||"Login failed")}}),i=(0,f.createAsyncThunk)("user/register",async(a,b)=>{try{return(await e.$.post("/users/register",{username:a.username,password:a.password,email:a.email,name:a.name})).data}catch(a){return b.rejectWithValue(a.response?.data?.message||"Registration failed")}}),j=(0,f.createAsyncThunk)("user/getAboutUser",async(a,b)=>{try{console.log("Calling API with token:",a.token);let c=await e.$.get("/users/get_user_and_profile",{params:{token:a.token}});return console.log("API response:",c.data),b.fulfillWithValue(c.data)}catch(a){return console.error("API error:",a),b.rejectWithValue(a.response?.data||{message:"Error"})}}),k=(0,f.createAsyncThunk)("user/getAllUsers",async(a,b)=>{try{let a=localStorage.getItem("token");if(!a)return b.rejectWithValue({message:"No token found"});console.log("Calling API with token:",a);let c=await e.$.get("/users/user/get_all_users",{headers:{Authorization:`Bearer ${a}`}});return b.fulfillWithValue(c.data)}catch(a){return b.rejectWithValue(a.response?.data||{message:"Error fetching users"})}}),l=(0,f.createAsyncThunk)("user/sendConnectionRequest",async(a,b)=>{try{let c=await e.$.post("/users/user/send_connection_request",{token:a.token,connectionId:a.user_id});return b.dispatch(m({token:a.token})),c.data}catch(a){return b.rejectWithValue(a.response?.data||{message:"Error sending request"})}}),m=(0,f.createAsyncThunk)("user/getConnectionRequest",async(a,b)=>{try{return(await e.$.get("/users/user/getConnectionRequest",{params:{token:a.token}})).data.connections}catch(a){return b.rejectWithValue(a.response?.data||{message:"Error fetching connections"})}}),n=(0,f.createAsyncThunk)("user/getMyConnectionRequests",async(a,b)=>{try{let c=await e.$.get("/users/user/user_connection_request",{params:{token:a.token}});return b.fulfillWithValue(c.data)}catch(a){return b.rejectWithValue(a.response?.data||{message:"Error fetching requests"})}}),o=(0,f.createAsyncThunk)("user/acceptConnectionRequest",async(a,b)=>{try{let c=await e.$.post("/users/user/accept_connection_request",{token:a.token,requestId:a.connectionId,action_type:a.action});return b.dispatch(m({token:a.token})),b.dispatch(n({token:a.token})),b.fulfillWithValue(c.data)}catch(a){return b.rejectWithValue(a.response?.data||{message:"Error accepting request"})}});d()}catch(a){d(a)}})},2404:(a,b,c)=>{"use strict";c.a(a,async(a,d)=>{try{c.r(b),c.d(b,{default:()=>i});var e=c(8732),f=c(1108);c(979);var g=c(4062),h=a([f,g]);function i({Component:a,pageProps:b}){return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(g.Provider,{store:f.M,children:(0,e.jsx)(a,{...b})})})}[f,g]=h.then?(await h)():h,d()}catch(a){d(a)}})},2968:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d={default:function(){return p},defaultHead:function(){return l}};for(var e in d)Object.defineProperty(b,e,{enumerable:!0,get:d[e]});let f=c(7020),g=c(3147),h=c(8732),i=g._(c(2015)),j=f._(c(8443)),k=c(1523);function l(){return[(0,h.jsx)("meta",{charSet:"utf-8"},"charset"),(0,h.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")]}function m(a,b){return"string"==typeof b||"number"==typeof b?a:b.type===i.default.Fragment?a.concat(i.default.Children.toArray(b.props.children).reduce((a,b)=>"string"==typeof b||"number"==typeof b?a:a.concat(b),[])):a.concat(b)}c(2314);let n=["name","httpEquiv","charSet","itemProp"];function o(a){let b,c,d,e;return a.reduce(m,[]).reverse().concat(l().reverse()).filter((b=new Set,c=new Set,d=new Set,e={},a=>{let f=!0,g=!1;if(a.key&&"number"!=typeof a.key&&a.key.indexOf("$")>0){g=!0;let c=a.key.slice(a.key.indexOf("$")+1);b.has(c)?f=!1:b.add(c)}switch(a.type){case"title":case"base":c.has(a.type)?f=!1:c.add(a.type);break;case"meta":for(let b=0,c=n.length;b<c;b++){let c=n[b];if(a.props.hasOwnProperty(c))if("charSet"===c)d.has(c)?f=!1:d.add(c);else{let b=a.props[c],d=e[c]||new Set;("name"!==c||!g)&&d.has(b)?f=!1:(d.add(b),e[c]=d)}}}return f})).reverse().map((a,b)=>{let c=a.key||b;return i.default.cloneElement(a,{key:c})})}let p=function({children:a}){let b=(0,i.useContext)(k.HeadManagerContext);return(0,h.jsx)(j.default,{reduceComponentsToState:o,headManager:b,children:a})};("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},3071:(a,b,c)=>{"use strict";c.a(a,async(a,d)=>{try{c.d(b,{Gy:()=>m,Ow:()=>l,XS:()=>k,pD:()=>i,ys:()=>j,zX:()=>h});var e=c(1960),f=c(9198),g=a([f]);f=(g.then?(await g)():g)[0];let h=(0,f.createAsyncThunk)("post/getAllPosts",async(a,b)=>{try{let a=await e.$.get("/posts/posts");return b.fulfillWithValue(a.data)}catch(a){return b.rejectWithValue(a.response?.data||{message:"Server Error"})}}),i=(0,f.createAsyncThunk)("post/createPost",async(a,b)=>{let{file:c,body:d}=a;try{let a=new FormData;a.append("token",localStorage.getItem("token")),a.append("body",d),a.append("media",c);let f=await e.$.post("/posts/post",a,{headers:{"Content-Type":"multipart/form-data"}});if(200===f.status)return b.fulfillWithValue("Post Uploaded");return b.rejectWithValue("Post not uploaded")}catch(a){return b.rejectWithValue(a.response?.data||{message:"Server Error"})}}),j=(0,f.createAsyncThunk)("post/deletePost",async(a,b)=>{try{let c=await e.$.delete("/posts/delete_post",{data:{token:localStorage.getItem("token"),post_id:a.post_id}});return b.fulfillWithValue(c.data)}catch(a){return b.rejectWithValue(a.response?.data||{message:"Server Error"})}}),k=(0,f.createAsyncThunk)("post/incrementLike",async(a,b)=>{try{let c=await e.$.post("/posts/increment_post_like",{post_id:a.post_id});return b.fulfillWithValue(c.data)}catch(a){return b.rejectWithValue(a.response?.data||{message:"Server Error"})}}),l=(0,f.createAsyncThunk)("post/getAllComments",async(a,b)=>{try{let c=await e.$.get("/posts/get_comments",{params:{post_id:a.post_id}});return b.fulfillWithValue({comments:c.data,post_id:a.post_id})}catch(a){return b.rejectWithValue(a.response?.data||{message:"Server Error"})}}),m=(0,f.createAsyncThunk)("post/postComment",async(a,b)=>{try{console.log({post_id:a.post_id,body:a.body});let c=await e.$.post("/posts/comment",{token:localStorage.getItem("token"),post_id:a.post_id,commentBody:a.body});return b.fulfillWithValue(c.data)}catch(a){return b.rejectWithValue(a.response?.data||{message:"Server Error"})}});d()}catch(a){d(a)}})},3988:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>f});var d=c(8732),e=c(2341);function f(){return(0,d.jsxs)(e.Html,{lang:"en",children:[(0,d.jsx)(e.Head,{}),(0,d.jsxs)("body",{children:[(0,d.jsx)(e.Main,{}),(0,d.jsx)(e.NextScript,{})]})]})}},5445:(a,b,c)=>{"use strict";c.a(a,async(a,d)=>{try{c.d(b,{Ay:()=>n,FS:()=>k,cL:()=>j});var e=c(2091),f=c(9198),g=a([e,f]);[e,f]=g.then?(await g)():g;let h={user:void 0,isError:!1,isSuccess:!1,isLoading:!1,loggedIn:!1,message:"",isTokenThere:!1,profileFetched:!1,connections:[],connectionRequest:[],all_users:[],all_profiles_fetched:!1},i=(0,f.createSlice)({name:"auth",initialState:h,reducers:{reset:()=>h,emptyMessage:a=>{a.message="",a.isError=!1,a.isSuccess=!1},setTokenIsThere:a=>{a.isTokenThere=!0},setTokenIsNotThere:a=>{a.isTokenThere=!1}},extraReducers:a=>{a.addCase(e.Lx.pending,a=>{a.isLoading=!0,a.message="Knocking the door..."}).addCase(e.Lx.fulfilled,(a,b)=>{a.isLoading=!1,a.isError=!1,a.isSuccess=!0,a.loggedIn=!0,a.user=b.payload,a.message="Login is Successful"}).addCase(e.Lx.rejected,(a,b)=>{a.isLoading=!1,a.isError=!0,a.message=b.payload?.message||"Login Failed"}).addCase(e.DY.pending,a=>{a.isLoading=!0,a.message="Registering you..."}).addCase(e.DY.fulfilled,a=>{a.isLoading=!1,a.isError=!1,a.isSuccess=!0,a.loggedIn=!1,a.message="Register is Successful! Please login."}).addCase(e.DY.rejected,(a,b)=>{a.isLoading=!1,a.isError=!0,a.message=b.payload?.message||"Register Failed"}).addCase(e.Zt.fulfilled,(a,b)=>{a.isLoading=!1,a.isError=!1,a.profileFetched=!0,a.user=b.payload.profile}).addCase(e.CF.pending,a=>{a.isLoading=!0}).addCase(e.CF.fulfilled,(a,b)=>{a.isLoading=!1,a.isError=!1,a.all_profiles_fetched=!0,a.all_users=b.payload.profiles}).addCase(e.CF.rejected,(a,b)=>{a.isLoading=!1,a.isError=!0,a.message=b.payload?.message||"Failed to load users"}).addCase(e.Oe.pending,a=>{a.isLoading=!0}).addCase(e.Oe.fulfilled,(a,b)=>{a.isLoading=!1,a.isError=!1,a.connections=b.payload}).addCase(e.Oe.rejected,(a,b)=>{a.isLoading=!1,a.isError=!0,a.message=b.payload?.message||"Failed to fetch connections"}).addCase(e.hf.pending,a=>{a.isLoading=!0}).addCase(e.hf.fulfilled,(a,b)=>{a.isLoading=!1,a.isError=!1,a.connectionRequest=b.payload}).addCase(e.hf.rejected,(a,b)=>{a.isLoading=!1,a.isError=!0,a.message=b.payload?.message||"Failed to fetch connection requests"})}}),{reset:j,emptyMessage:k,setTokenIsThere:l,setTokenIsNotThere:m}=i.actions,n=i.reducer;d()}catch(a){d(a)}})},8443:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"default",{enumerable:!0,get:function(){return f}});let d=c(2015),e=()=>{};function f(a){let{headManager:b,reduceComponentsToState:c}=a;function f(){if(b&&b.mountedInstances){let a=d.Children.toArray(Array.from(b.mountedInstances).filter(Boolean));b.updateHead(c(a))}}return b?.mountedInstances?.add(a.children),f(),e(()=>(b?.mountedInstances?.add(a.children),()=>{b?.mountedInstances?.delete(a.children)})),e(()=>(b&&(b._pendingUpdate=f),()=>{b&&(b._pendingUpdate=f)})),null}},9193:(a,b,c)=>{"use strict";c.a(a,async(a,d)=>{try{c.d(b,{Ay:()=>l,Xw:()=>k});var e=c(9198),f=c(3071),g=a([e,f]);[e,f]=g.then?(await g)():g;let h={posts:[],isError:!1,postFetched:!1,isLoading:!1,loggedIn:!1,message:"",comments:[],postId:""},i=(0,e.createSlice)({name:"post",initialState:h,reducers:{reset:()=>h,resetPostId:a=>{a.postId=""}},extraReducers:a=>{a.addCase(f.zX.pending,a=>{a.isLoading=!0,a.message="fetching all the posts...."}).addCase(f.zX.fulfilled,(a,b)=>{a.isLoading=!1,a.isError=!1,a.postFetched=!0,a.posts=b.payload.posts.reverse()}).addCase(f.zX.rejected,(a,b)=>{a.isLoading=!1,a.isError=!0,a.postFetched=!1,a.message=b.payload?.message||"Failed to fetch posts"}).addCase(f.Ow.fulfilled,(a,b)=>{a.postId=b.payload.post_id,a.comments=b.payload.comments,console.log(a.comments)})}}),{reset:j,resetPostId:k}=i.actions,l=i.reducer;d()}catch(a){d(a)}})}};