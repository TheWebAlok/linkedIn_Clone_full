(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[63],{725:(e,o,s)=>{"use strict";s.d(o,{A:()=>c});var r=s(7876),n=s(9099),t=s(5827),i=s.n(t),a=s(1777),l=s(9382);function d(){let e=(0,n.useRouter)(),o=(0,a.d4)(e=>e.auth),s=(0,a.wA)();return(0,r.jsx)("div",{className:i().container,children:(0,r.jsxs)("nav",{className:i().navbar,children:[(0,r.jsx)("h1",{style:{cursor:"pointer"},onClick:()=>{e.push("/")},children:"Pro Connect"}),(0,r.jsxs)("div",{className:i().navbarOptionContainer,children:[o.profileFetched&&(0,r.jsx)("div",{children:(0,r.jsxs)("div",{onClick:()=>{e.push("/profile")},style:{display:"flex",gap:"1.2rem"},children:[(0,r.jsx)("p",{style:{fontWeight:"bold",cursor:"pointer"},children:"Profile"}),(0,r.jsx)("p",{onClick:()=>{localStorage.removeItem("token"),s((0,l.cL)()),e.push("/login")},style:{fontWeight:"bold",cursor:"pointer"},children:"Logout"})]})}),!o.profileFetched&&(0,r.jsx)("div",{onClick:()=>e.push("/login"),className:i().buttonJoin,children:(0,r.jsx)("p",{children:"be a part"})})]})]})})}s(4232);let c=function({children:e}){return(0,r.jsxs)("div",{children:[(0,r.jsx)(d,{}),e]})}},2190:e=>{e.exports={container:"profile_container__oOWE6",backdropContainer:"profile_backdropContainer__bzncq",backDrop__overlay:"profile_backDrop__overlay__fsua6",profileContainer__details:"profile_profileContainer__details__G0j0z",card:"profile_card__cvuSz",card_profileContainer:"profile_card_profileContainer__KI0ty",connectBtn:"profile_connectBtn__LkEe3",connectedButton:"profile_connectedButton__C6BMm",userProfile:"profile_userProfile__pfFpv",workHistory:"profile_workHistory__cxdon",workHistoryContainer:"profile_workHistoryContainer__KZucT",workHistoryCard:"profile_workHistoryCard__VOhd6",nameEdit:"profile_nameEdit__JI1j_",updateBtn:"profile_updateBtn__uI050",addWorkBtn:"profile_addWorkBtn__YOF98",commentsContainer:"profile_commentsContainer__yjsIq",allCommentsContainer:"profile_allCommentsContainer__IVHMT",inputField:"profile_inputField__MuZ1h"}},4188:(e,o,s)=>{"use strict";s.d(o,{A:()=>c});var r=s(7876),n=s(4232),t=s(7345),i=s.n(t),a=s(9099),l=s(1777),d=s(2836);function c({children:e}){let o=(0,a.useRouter)(),s=(0,l.d4)(e=>e.auth),t=(0,l.wA)();return(0,n.useEffect)(()=>{localStorage.getItem("token")?t((0,d.CF)()):o.push("/login")},[o,t]),(0,r.jsxs)("div",{className:"container",children:[(0,r.jsxs)("div",{className:i().homeContainer,children:[(0,r.jsxs)("div",{className:i().homeContainer__leftBar,children:[(0,r.jsxs)("div",{onClick:()=>o.push("/dashboard"),className:i().sidebarOption,children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})}),(0,r.jsx)("p",{children:"Scroll"})]}),(0,r.jsxs)("div",{onClick:()=>o.push("/discover"),className:i().sidebarOption,children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})}),(0,r.jsx)("p",{children:"Discover"})]}),(0,r.jsxs)("div",{onClick:()=>o.push("/my-connections"),className:i().sidebarOption,children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})}),(0,r.jsx)("p",{children:"My Connection"})]})]}),(0,r.jsx)("div",{className:i().homeContainer__feedContainer,children:e}),(0,r.jsxs)("div",{className:i().homeContainer__extraContainer,children:[(0,r.jsx)("h3",{children:"Top Profiles"}),s.all_users?.length>0?s.all_users.map(e=>(0,r.jsx)("div",{className:i().extrContainer_profile,children:(0,r.jsx)("p",{children:e.userId?.name})},e._id)):(0,r.jsx)("p",{children:"No profiles found"})]})]}),(0,r.jsxs)("div",{className:i().mobileNavbar,children:[(0,r.jsx)("div",{onClick:()=>o.push("/dashboard"),className:i().sideBarOption,children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})})}),(0,r.jsx)("div",{onClick:()=>o.push("/discover"),className:i().sideBarOption,children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})})}),(0,r.jsx)("div",{onClick:()=>o.push("/my-connections"),className:i().sideBarOption,children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})})})]})]})}},5827:e=>{e.exports={container:"styles_container__WCP1D",navbar:"styles_navbar__16R5U",navbarOptionContainer:"styles_navbarOptionContainer__Ycugt",buttonJoin:"styles_buttonJoin__hW__U"}},7345:e=>{e.exports={homeContainer:"DashboardLayout_homeContainer__pIsyd",homeContainer__leftBar:"DashboardLayout_homeContainer__leftBar__Njmj1",sidebarOption:"DashboardLayout_sidebarOption__hfqyK",homeContainer__feedContainer:"DashboardLayout_homeContainer__feedContainer__0i3v7",homeContainer__extraContainer:"DashboardLayout_homeContainer__extraContainer__M8mtY",mobileNavbar:"DashboardLayout_mobileNavbar__dTaU4"}},8259:(e,o,s)=>{"use strict";s.r(o),s.d(o,{default:()=>u});var r=s(7876),n=s(725),t=s(4188),i=s(2190),a=s.n(i),l=s(4232),d=s(2836),c=s(1777),p=s(1667),h=s(9868);function u(){let e=(0,c.wA)(),o=(0,c.d4)(e=>e.auth),s=(0,c.d4)(e=>e.postReducer),[i,u]=(0,l.useState)([]),[m,_]=(0,l.useState)({company:"",position:"",years:"",school:"",degree:""}),x=e=>{let{name:o,value:s}=e.target;_({...m,[o]:s})},[j,C]=(0,l.useState)(!1),[v,k]=(0,l.useState)({userId:{name:"",username:"",profilePicture:""},bio:"",postWork:[]});(0,l.useEffect)(()=>{e((0,d.Zt)({token:localStorage.getItem("token")})),e((0,h.zX)())},[e]),(0,l.useEffect)(()=>{o?.user&&k(o.user)},[o.user]),(0,l.useEffect)(()=>{s?.posts&&o?.user?.userId&&u(s.posts.filter(e=>e.userId?.username===o.user.userId.username))},[s.posts,o.user]);let f=async o=>{try{let s=new FormData;console.log("Uploading file:",o),s.append("profile_picture",o),s.append("token",localStorage.getItem("token")),await p.$.post("/users/update_profile_picture",s,{headers:{"Content-Type":"multipart/form-data"}}),e((0,d.Zt)({token:localStorage.getItem("token")}))}catch(e){console.error("Profile picture update error",e)}},g=async()=>{await p.$.post("/users/user_update",{token:localStorage.getItem("token"),name:v.userId.name}),await p.$.put("/users/update_profile_data",{token:localStorage.getItem("token"),bio:v.bio,currentPost:v.currentPost,postWork:v.postWork,education:v.education}),e((0,d.Zt)({token:localStorage.getItem("token")}))};return(0,r.jsx)(n.A,{children:(0,r.jsxs)(t.A,{children:[o.user&&(0,r.jsxs)("div",{className:a().container,children:[(0,r.jsxs)("div",{className:a().backdropContainer,children:[(0,r.jsx)("label",{htmlFor:"profilePictureUpload",className:a().backDrop__overlay,children:(0,r.jsx)("p",{children:"Edit"})}),(0,r.jsx)("input",{type:"file",hidden:!0,id:"profilePictureUpload",onChange:e=>{f(e.target.files[0])}}),(0,r.jsx)("img",{src:`${p.C}/${v?.userId?.profilePicture}?t=${Date.now()}`,alt:"profile"})]}),(0,r.jsx)("div",{className:a().profileContainer__details,children:(0,r.jsxs)("div",{style:{display:"flex",gap:"0.7rem"},children:[(0,r.jsxs)("div",{style:{flex:"0.8"},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1.2rem"},children:[(0,r.jsx)("input",{className:a().nameEdit,type:"text",value:v?.userId?.name||"",onChange:e=>{k({...v,userId:{...v.userId,name:e.target.value}})}}),(0,r.jsxs)("p",{style:{color:"gray"},children:["@",v?.userId?.username]})]}),(0,r.jsx)("div",{children:(0,r.jsx)("textarea",{value:v?.bio||"",onChange:e=>{k({...v,bio:e.target.value}),e.target.style.height="auto",e.target.style.height=e.target.scrollHeight+"px"},style:{width:"100%",overflow:"hidden"}})})]}),(0,r.jsxs)("div",{style:{flex:"0.2"},children:[(0,r.jsx)("h3",{children:"Recent Activity"}),i.map(e=>(0,r.jsx)("div",{className:a().postCard,children:(0,r.jsxs)("div",{className:a().card,children:[(0,r.jsx)("div",{className:a().card_profileContainer,children:e.media&&(0,r.jsx)("img",{style:{heigth:"2rem",width:"3rem",borderRadius:"15px",backgrounSize:"cover"},src:`${p.C}/${e.media}`,alt:"post"})}),(0,r.jsx)("p",{children:e.body})]})},e._id))]})]})}),(0,r.jsxs)("div",{className:a().workHistory,children:[(0,r.jsx)("h4",{children:"Work History"}),(0,r.jsxs)("div",{className:a().workHistoryContainer,children:[v?.postWork?.map((e,o)=>(0,r.jsxs)("div",{className:a().workHistoryCard,children:[(0,r.jsxs)("p",{style:{fontWeight:"bold"},children:[e.company," - ",e.position]}),(0,r.jsx)("p",{children:e.years})]},o)),(0,r.jsx)("button",{className:a().addWorkBtn,onClick:()=>{C(!0)},children:"Add Work"})]})]}),(0,r.jsxs)("div",{className:a().workHistory,children:[(0,r.jsx)("h4",{children:"Education"}),(0,r.jsxs)("div",{className:a().workHistoryContainer,children:[v?.education?.map((e,o)=>(0,r.jsxs)("div",{className:a().workHistoryCard,children:[(0,r.jsx)("p",{style:{fontWeight:"bold"},children:e.school}),(0,r.jsx)("p",{children:e.degree})]},o)),(0,r.jsx)("button",{className:a().addWorkBtn,onClick:()=>{C(!0)},children:"Add Education"})]})]}),v!=o.user&&(0,r.jsx)("div",{onClick:()=>{g()},className:a().updateBtn,children:"Update Profile"})]}),j&&(0,r.jsx)("div",{onClick:()=>{C(!1)},className:a().commentsContainer,children:(0,r.jsxs)("div",{onClick:e=>{e.stopPropagation()},className:a().allCommentsContainer,children:[(0,r.jsx)("input",{className:a().inputField,onChange:x,type:"text",name:"company",id:"AddCompany",placeholder:"Add Company"}),(0,r.jsx)("input",{className:a().inputField,onChange:x,type:"text",name:"position",id:"AddPosition",placeholder:"Add Position"}),(0,r.jsx)("input",{className:a().inputField,onChange:x,type:"number",name:"years",id:"years",placeholder:"Years"}),(0,r.jsx)("div",{onClick:()=>{k({...v,postWork:[...v.postWork,m]}),C(!1)},className:a().updateBtn,children:"Add work"})]})}),j&&(0,r.jsx)("div",{onClick:()=>{C(!1)},className:a().commentsContainer,children:(0,r.jsxs)("div",{onClick:e=>{e.stopPropagation()},className:a().allCommentsContainer,children:[(0,r.jsx)("input",{className:a().inputField,onChange:x,type:"text",name:"school",id:"school",placeholder:"College/University name"}),(0,r.jsx)("input",{className:a().inputField,onChange:x,type:"text",name:"degree",id:"degree",placeholder:"Add Course"}),(0,r.jsx)("div",{onClick:()=>{k({...v,education:[...v.education,m]}),C(!1)},className:a().updateBtn,children:"Add Education"})]})})]})})}},9099:(e,o,s)=>{e.exports=s(6296)},9275:(e,o,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return s(8259)}])}},e=>{e.O(0,[636,593,792],()=>e(e.s=9275)),_N_E=e.O()}]);